#!/bin/bash

# Example demonstrating the expected request format for the `/create` API
# The JWT below is meant to be valid for the default JWT_SECRET in .env.example

JWT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJvcmdhbml6YXRpb25faWQiOiJoeXBoYWNvb3AiLCJhdXRob3IiOnsidHlwZSI6IlBlcnNvbiIsImlkZW50aWZpZXIiOiJodHRwczovL2h5cGhhLmNvb3AiLCJuYW1lIjoiQmVuZWRpY3QgTGF1In0sInR3aXR0ZXIiOnsidHlwZSI6Ik9yZ2FuaXphdGlvbiIsImlkZW50aWZpZXIiOiJodHRwczovL2h5cGhhLmNvb3AiLCJuYW1lIjoiSHlwaGFDb29wIn0sImNvcHlyaWdodCI6IkNvcHlyaWdodCAoQykgMjAyMSBIeXBoYSBXb3JrZXIgQ28tb3BlcmF0aXZlLiBBbGwgUmlnaHRzIFJlc2VydmVkLiJ9.9l-NgzCgdDvPavxr3RHs6bpfE10_PocK_FxztBKX2vg"
IMAGE="/path/to/your/image"

curl -X POST http://localhost:8080/v1/assets/create \
     -H "Authorization: Bearer ${JWT}" \
     -H "Content-Type: multipart/form-data" \
     -F "file=@${IMAGE}" \
     -F "meta={\"proof\":{\"hash\":\"8c785c9d616ac4d6f14dc1be51bac7d6a971172ce5852371f896ec91a3af38c9\",\"mimeType\":\"image/jpeg\",\"timestamp\":1635619387940},\"information\":[{\"provider\":\"InfoSnapshot\",\"name\":\"Accelerometer\",\"value\":\"[-4.835745, -9.1797905, 2.8164725]\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Board\",\"value\":\"sdm845\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Brand\",\"value\":\"htc\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Current GPS Accuracy\",\"value\":\"10.241\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Current GPS Altitude\",\"value\":\"122.64790535754908\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Current GPS Bearing\",\"value\":\"179.51004\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Current GPS Latitude\",\"value\":\"-15.9321422\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Current GPS Longitude\",\"value\":\"-57.6317174\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Current GPS Speed\",\"value\":\"0.0019197966\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Current GPS Timestamp\",\"value\":\"2021-10-30T18:43:14Z\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Device Build Fingerprint\",\"value\":\"htc/exodugl_00709/htc_exodugl:9/PQ2A.190205.003/1109191.2:user/release-keys\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Device Build ID\",\"value\":\"PQ2A.190205.003 release-keys\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Device Build Tags\",\"value\":\"release-keys\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Device Build Time\",\"value\":\"4/12/20 9:33 AM\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Device Build Type\",\"value\":\"user\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Device Name\",\"value\":\"htc_exodugl\"},{\"provider\":\"InfoSnapshot\",\"name\":\"End Product Name\",\"value\":\"EXODUS 1\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Game Rotation Vector\",\"value\":\"[-0.27199978, -0.5890287, 0.76046735, 0.027653562]\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Geomagnetic Rotation Vector\",\"value\":\"[0.11996378, 0.63682914, -0.7244062, 0.23514624, 0.0]\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Gravity\",\"value\":\"[-3.83753, -8.933639, 1.2771736]\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Gyroscope\",\"value\":\"[0.186951, -0.14221194, 0.19386746]\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Hardware\",\"value\":\"htc_exo\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Hash of Android ID\",\"value\":\"3922994439f670eb4ff4f30de6c0f94f706fa362e89c80d978c959517f86d747\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Last Known GPS Accuracy\",\"value\":\"9.247\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Last Known GPS Altitude\",\"value\":\"121.13332675097318\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Last Known GPS Bearing\",\"value\":\"179.92064\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Last Known GPS Latitude\",\"value\":\"-15.9321342\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Last Known GPS Longitude\",\"value\":\"-57.6317188\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Last Known GPS Speed\",\"value\":\"0.0017722942\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Last Known GPS Timestamp\",\"value\":\"2021-10-30T18:43:04Z\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Light\",\"value\":\"[18.0, 0.0, 0.0]\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Linear Accelerometer\",\"value\":\"[-0.4384942, 0.3538639, 0.54364383]\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Magnetic Field\",\"value\":\"[0.5378714, 9.522411, -32.34161]\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Manufacturer\",\"value\":\"HTC\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Overall Product Name\",\"value\":\"exodugl_00709\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Rotation Vector\",\"value\":\"[0.055654373, 0.6515258, -0.713414, 0.25189212, 0.0]\"},{\"provider\":\"InfoSnapshot\",\"name\":\"Timestamp\",\"value\":\"2021-10-30T18:43:18.370Z\"}]}" \
     -F "signature=[{\"proofHash\":\"8c785c9d616ac4d6f14dc1be51bac7d6a971172ce5852371f896ec91a3af38c9\",\"provider\":\"AndroidOpenSSL\",\"signature\":\"3045022074b7e105327b6b51df23c32c95503842bbd2447518008462c90ae6ea9fcca03a022100b14b08f071c2ea8e351c4888753fa6064c5d527a0de9c8f7b173042e6831d179\",\"publicKey\":\"3059301306072a8648ce3d020106082a8648ce3d0301070342000463760bc21e0f0d2fa4186c67f06e866fa075fc50a28fa9330299ac9f3b31af87ffa06aca9749085a6da162b1b685a4deeba93fecfae94c7706d55e370384cb91\"}]"
